---
title: Untitled
bibliography: references.bib
format:
  mwe-typst: 
    keep_typ: true
  # native: default
---

## Task

I want to create citations like @Tufte2001[p.30, dy.-3.5cm] and show it in the margin.
A problem for the requirement bellow:

```{=Typst}
#place(dx:100%+1cm, [Please don't put the citation here.])
```

## Requirement
I will need to pass a parameter for vertical displacement with something like @Typst2024[dy.-4cm] to move the citation 5em bellow.
Also, I would need to be able to show a citation in full form @Labov1972[pp.40, dy.4.5cm]

## Problems
- Why the comma in `[2,]`?
- Why supplement does not appear in bib entry (form: full)?
- This code is ugly as hell, could it be cleaner?
<!-- 
I receive a citation content in `margincite` and I can't do something like:
```
let margincite(citation) = context {
    if query(bibliography).len()>0 {
      let (key, supplement, form, style) = citation.fields()
      citation
      place(dy:2em, dx:100%+1cm)[#cite(key, form: "full")]
    }
  }
```
because this would lead to an infinite loop

 -->

